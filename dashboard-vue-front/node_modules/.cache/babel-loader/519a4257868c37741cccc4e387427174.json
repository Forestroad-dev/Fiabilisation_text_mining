{"remainingRequest":"C:\\Users\\djibril.marwan\\Downloads\\analyse\\FIABILISATION\\Fiabilisation_text_mining\\dashboard-vue-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\djibril.marwan\\Downloads\\analyse\\FIABILISATION\\Fiabilisation_text_mining\\dashboard-vue-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\djibril.marwan\\Downloads\\analyse\\FIABILISATION\\Fiabilisation_text_mining\\dashboard-vue-front\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\djibril.marwan\\Downloads\\analyse\\FIABILISATION\\Fiabilisation_text_mining\\dashboard-vue-front\\src\\views\\Dashboard.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\djibril.marwan\\Downloads\\analyse\\FIABILISATION\\Fiabilisation_text_mining\\dashboard-vue-front\\src\\views\\Dashboard.vue","mtime":1735319648213},{"path":"C:\\Users\\djibril.marwan\\Downloads\\analyse\\FIABILISATION\\Fiabilisation_text_mining\\dashboard-vue-front\\babel.config.js","mtime":1732206448969},{"path":"C:\\Users\\djibril.marwan\\Downloads\\analyse\\FIABILISATION\\Fiabilisation_text_mining\\dashboard-vue-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1732292152562},{"path":"C:\\Users\\djibril.marwan\\Downloads\\analyse\\FIABILISATION\\Fiabilisation_text_mining\\dashboard-vue-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1732292155777},{"path":"C:\\Users\\djibril.marwan\\Downloads\\analyse\\FIABILISATION\\Fiabilisation_text_mining\\dashboard-vue-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1732292152562},{"path":"C:\\Users\\djibril.marwan\\Downloads\\analyse\\FIABILISATION\\Fiabilisation_text_mining\\dashboard-vue-front\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1732206487238}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IucmVkdWNlLmpzIjsKaW1wb3J0IENoYXJ0IGZyb20gImNoYXJ0LmpzL2F1dG8iOwppbXBvcnQgKiBhcyBYTFNYIGZyb20gInhsc3giOwppbXBvcnQgTWluaVN0YXRpc3RpY3NDYXJkIGZyb20gIkAvZXhhbXBsZXMvQ2FyZHMvTWluaVN0YXRpc3RpY3NDYXJkLnZ1ZSI7Ci8vIGltcG9ydCBSZXBvcnRzQmFyQ2hhcnQgZnJvbSAiQC9leGFtcGxlcy9DaGFydHMvUmVwb3J0c0JhckNoYXJ0LnZ1ZSI7CmltcG9ydCBUaW1lbGluZUxpc3QgZnJvbSAiLi9jb21wb25lbnRzL1RpbWVsaW5lTGlzdC52dWUiOwppbXBvcnQgVGltZWxpbmVJdGVtIGZyb20gIi4vY29tcG9uZW50cy9UaW1lbGluZUl0ZW0udnVlIjsKLy8gaW1wb3J0IFByb2plY3RzQ2FyZCBmcm9tICIuL2NvbXBvbmVudHMvUHJvamVjdHNDYXJkLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBNaW5pU3RhdGlzdGljc0NhcmQsCiAgICAvLyBSZXBvcnRzQmFyQ2hhcnQsCiAgICAvLyBQcm9qZWN0c0NhcmQsCiAgICBUaW1lbGluZUxpc3QsCiAgICBUaW1lbGluZUl0ZW0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3RhbFJvd3M6IDAsCiAgICAgIHJvd3NXaXRoRXJyb3JzOiAwLAogICAgICB0b3RhbEVycm9yczogMCwKICAgICAgZXJyb3JTdW1tYXJ5OiBbXSwKICAgICAgY29sdW1uVGl0bGVzOiB7CiAgICAgICAgIkZvcm1hdCBkdSBOdW3DqXJvIGRlIFTDqWzDqXBob25lIEludmFsaWRlIjogIlTDqWzDqXBob25lIEludmFsaWRlIiwKICAgICAgICAiRG9tYWluZSBvdSBGb3JtYXQgZGUgbCdFbWFpbCBJbnZhbGlkZSI6ICJFbWFpbCBJbnZhbGlkZSIsCiAgICAgICAgIlNleGUgb3UgR2VucmUgSW5jb3JyZWN0IG91IE1hbnF1YW50IHBvdXIgRW50cmVwcmlzZSI6ICJTZXhlL0dlbnJlIiwKICAgICAgICAiUmVwcsOpc2VudGFudCBMw6lnYWwgTWFucXVhbnQiOiAiUmVwcsOpc2VudGFudCAiCiAgICAgIH0sCiAgICAgIGNjRXJyb3JDb3VudHM6IFtdLAogICAgICBhZ2VuY2VFcnJvckNvdW50czogW10sCiAgICAgIGljb25CYWNrZ3JvdW5kOiAnIzVFNzJFNCcsCiAgICAgIHBlcmNlbnRhZ2VfY2Nfd2l0aF9lcnJvcnM6IDAsCiAgICAgIHBlcmNlbnRhZ2VfYWdlbmNlc193aXRoX2Vycm9yczogMCwKICAgICAgYWdlbmNlTGFiZWxzOiBbXSwKICAgICAgLy8gTGFiZWxzIHBvdXIgbGUgZ3JhcGhpcXVlCiAgICAgIGFnZW5jZVRvdGFsczogW10sCiAgICAgIGNjUG9kaXVtOiBbXSwKICAgICAgZmlsZU5hbWU6ICIiLAogICAgICBkb3dubG9hZExpbms6ICIiLAogICAgICBpc1ZhbGlkYXRpb25Db21wbGV0ZTogZmFsc2UsCiAgICAgIHNlbGVjdGVkQ0M6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIExpc3RlIHVuaXF1ZSBkZXMgQ0MgcG91ciBsZSBmaWx0cmUKICAgIHVuaXF1ZUNDcygpIHsKICAgICAgcmV0dXJuIFsuLi5uZXcgU2V0KHRoaXMuY2NFcnJvckNvdW50cy5tYXAoY2MgPT4gY2MuQ0MpKV07CiAgICB9LAogICAgLy8gUmVncm91cGVtZW50IGRlcyBkb25uw6llcyBwYXIgQ0MgZXQgQWdlbmNlCiAgICBncm91cGVkRXJyb3JzKCkgewogICAgICBjb25zdCBncm91cGVkID0ge307CgogICAgICAvLyBSZWdyb3VwZW1lbnQgZGVzIGVycmV1cnMgcGFyIENDIGV0IEFnZW5jZQogICAgICB0aGlzLmNjRXJyb3JDb3VudHMuZm9yRWFjaChjY0Vycm9yID0+IHsKICAgICAgICBjb25zdCBrZXkgPSBgJHtjY0Vycm9yLkNDfS0ke2NjRXJyb3IuQWdlbmNlfWA7CiAgICAgICAgaWYgKCFncm91cGVkW2tleV0pIHsKICAgICAgICAgIGdyb3VwZWRba2V5XSA9IHsKICAgICAgICAgICAgLi4uY2NFcnJvcgogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gQWdyw6lnYXRpb24gZGVzIGVycmV1cnMgcG91ciBsZSBtw6ptZSBDQy1BZ2VuY2UKICAgICAgICAgIGdyb3VwZWRba2V5XVsiVG90YWwgRXJyZXVycyBBZ2VuY2UiXSArPSBjY0Vycm9yWyJUb3RhbCBFcnJldXJzIEFnZW5jZSJdIHx8IDA7CiAgICAgICAgICBncm91cGVkW2tleV1bIkZvcm1hdCBkdSBOdW3DqXJvIGRlIFTDqWzDqXBob25lIEludmFsaWRlIl0gKz0gY2NFcnJvclsiRm9ybWF0IGR1IE51bcOpcm8gZGUgVMOpbMOpcGhvbmUgSW52YWxpZGUiXSB8fCAwOwogICAgICAgICAgZ3JvdXBlZFtrZXldWyJEb21haW5lIG91IEZvcm1hdCBkZSBsJ0VtYWlsIEludmFsaWRlIl0gKz0gY2NFcnJvclsiRG9tYWluZSBvdSBGb3JtYXQgZGUgbCdFbWFpbCBJbnZhbGlkZSJdIHx8IDA7CiAgICAgICAgICBncm91cGVkW2tleV1bIlNleGUgb3UgR2VucmUgSW5jb3JyZWN0IG91IE1hbnF1YW50IHBvdXIgRW50cmVwcmlzZSJdICs9IGNjRXJyb3JbIlNleGUgb3UgR2VucmUgSW5jb3JyZWN0IG91IE1hbnF1YW50IHBvdXIgRW50cmVwcmlzZSJdIHx8IDA7CiAgICAgICAgICBncm91cGVkW2tleV1bIlJlcHLDqXNlbnRhbnQgTMOpZ2FsIE1hbnF1YW50Il0gKz0gY2NFcnJvclsiUmVwcsOpc2VudGFudCBMw6lnYWwgTWFucXVhbnQiXSB8fCAwOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICAvLyBDYWxjdWwgZGVzIHBvdXJjZW50YWdlcyBhcHLDqHMgcmVncm91cGVtZW50CiAgICAgIE9iamVjdC52YWx1ZXMoZ3JvdXBlZCkuZm9yRWFjaChncm91cCA9PiB7CiAgICAgICAgY29uc3QgdG90YWxFcnJvcnMgPSB0aGlzLnRvdGFsRXJyZXVyc0dsb2JhbGVzOyAvLyBUb3RhbCBnbG9iYWwgZGVzIGVycmV1cnMKICAgICAgICBncm91cFsiUG91cmNlbnRhZ2UgUGFyIEFnZW5jZSJdID0gdG90YWxFcnJvcnMgPiAwID8gKGdyb3VwWyJUb3RhbCBFcnJldXJzIEFnZW5jZSJdIC8gdG90YWxFcnJvcnMgKiAxMDApLnRvRml4ZWQoMikgOiAwOwogICAgICB9KTsKICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoZ3JvdXBlZCk7CiAgICB9LAogICAgLy8gRG9ubsOpZXMgZmlsdHLDqWVzIHNlbG9uIGxlIENDIHPDqWxlY3Rpb25uw6kKICAgIGZpbHRlcmVkRXJyb3JzKCkgewogICAgICBpZiAodGhpcy5zZWxlY3RlZENDKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ3JvdXBlZEVycm9ycy5maWx0ZXIoY2MgPT4gY2MuQ0MgPT09IHRoaXMuc2VsZWN0ZWRDQyk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuZ3JvdXBlZEVycm9yczsKICAgIH0sCiAgICAvLyBDYWxjdWwgZGVzIHRvdGF1eCBwb3VyIGxlcyBjb2xvbm5lcwogICAgdG90YWxUZWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmZpbHRlcmVkRXJyb3JzLnJlZHVjZSgoc3VtLCBjYykgPT4gc3VtICsgKGNjWyJGb3JtYXQgZHUgTnVtw6lybyBkZSBUw6lsw6lwaG9uZSBJbnZhbGlkZSJdIHx8IDApLCAwKTsKICAgIH0sCiAgICB0b3RhbEVtYWlsKCkgewogICAgICByZXR1cm4gdGhpcy5maWx0ZXJlZEVycm9ycy5yZWR1Y2UoKHN1bSwgY2MpID0+IHN1bSArIChjY1siRG9tYWluZSBvdSBGb3JtYXQgZGUgbCdFbWFpbCBJbnZhbGlkZSJdIHx8IDApLCAwKTsKICAgIH0sCiAgICB0b3RhbFNleGVHZW5yZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRFcnJvcnMucmVkdWNlKChzdW0sIGNjKSA9PiBzdW0gKyAoY2NbIlNleGUgb3UgR2VucmUgSW5jb3JyZWN0IG91IE1hbnF1YW50IHBvdXIgRW50cmVwcmlzZSJdIHx8IDApLCAwKTsKICAgIH0sCiAgICB0b3RhbFJlcHJlc2VudGFudCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRFcnJvcnMucmVkdWNlKChzdW0sIGNjKSA9PiBzdW0gKyAoY2NbIlJlcHLDqXNlbnRhbnQgTMOpZ2FsIE1hbnF1YW50Il0gfHwgMCksIDApOwogICAgfSwKICAgIHRvdGFsRXJyZXVyc0FnZW5jZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRFcnJvcnMucmVkdWNlKChzdW0sIGNjKSA9PiBzdW0gKyAoY2NbIlRvdGFsIEVycmV1cnMgQWdlbmNlIl0gfHwgMCksIDApOwogICAgfSwKICAgIC8vIENhbGN1bCBnbG9iYWwgZGVzIGVycmV1cnMKICAgIHRvdGFsRXJyZXVyc0dsb2JhbGVzKCkgewogICAgICByZXR1cm4gdGhpcy5jY0Vycm9yQ291bnRzLnJlZHVjZSgoc3VtLCBjYykgPT4gc3VtICsgKGNjWyJUb3RhbCBFcnJldXJzIEFnZW5jZSJdIHx8IDApLCAwKTsKICAgIH0sCiAgICAvLyBDYWxjdWwgZHUgcG91cmNlbnRhZ2UgdG90YWwgZGVzIGVycmV1cnMgcGFyIGFnZW5jZQogICAgdG90YWxQb3VyY2VudGFnZUFnZW5jZSgpIHsKICAgICAgY29uc3QgdG90YWxQb3VyY2VudGFnZSA9IHRoaXMuZmlsdGVyZWRFcnJvcnMucmVkdWNlKChzdW0sIGNjKSA9PiBzdW0gKyBwYXJzZUZsb2F0KGNjWyJQb3VyY2VudGFnZSBQYXIgQWdlbmNlIl0gfHwgMCksIDApOwogICAgICByZXR1cm4gdG90YWxQb3VyY2VudGFnZS50b0ZpeGVkKDIpOyAvLyBSZXRvdXJuZSBsZSBwb3VyY2VudGFnZSB0b3RhbCBhdmVjIDIgZMOpY2ltYWxlcwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY3JlYXRlQ2hhcnQoKSB7CiAgICAgIGlmICh0aGlzLmNoYXJ0SW5zdGFuY2UpIHsKICAgICAgICB0aGlzLmNoYXJ0SW5zdGFuY2UuZGVzdHJveSgpOwogICAgICB9CiAgICAgIGlmICh0aGlzLmNjRXJyb3JDaGFydCkgewogICAgICAgIHRoaXMuY2NFcnJvckNoYXJ0LmRlc3Ryb3koKTsKICAgICAgfQogICAgICBpZiAodGhpcy5jY1dpdGhFcnJvckNoYXJ0KSB7CiAgICAgICAgdGhpcy5jY1dpdGhFcnJvckNoYXJ0LmRlc3Ryb3koKTsKICAgICAgfQogICAgICBpZiAodGhpcy5hZ2VuY2VXaXRoRXJyb3JDaGFydCkgewogICAgICAgIHRoaXMuYWdlbmNlV2l0aEVycm9yQ2hhcnQuZGVzdHJveSgpOwogICAgICB9CgogICAgICAvLyBDcsOpZSBsZSBncmFwaGlxdWUgZGVzIGVycmV1cnMgcGFyIGFnZW5jZQogICAgICBjb25zb2xlLmxvZygiQ3JlYXRpbmcgY2hhcnQgd2l0aCBkYXRhOiIsIHRoaXMuYWdlbmNlRXJyb3JDb3VudHMpOwogICAgICBjb25zdCBhZ2VuY2VDaGFydEN0eCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZ2VuY2VDaGFydCIpLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMuYWdlbmNlRXJyb3JDb3VudHMubWFwKGFnZW5jZSA9PiBhZ2VuY2UuQWdlbmNlKTsKICAgICAgY29uc3QgZGF0YSA9IHRoaXMuYWdlbmNlRXJyb3JDb3VudHMubWFwKGFnZW5jZSA9PiBhZ2VuY2VbJ1RvdGFsIEVycmV1cnMnXSk7CiAgICAgIGlmICh0aGlzLmNoYXJ0SW5zdGFuY2UpIHsKICAgICAgICB0aGlzLmNoYXJ0SW5zdGFuY2UuZGVzdHJveSgpOwogICAgICB9CiAgICAgIHRoaXMuY2hhcnRJbnN0YW5jZSA9IG5ldyBDaGFydChhZ2VuY2VDaGFydEN0eCwgewogICAgICAgIHR5cGU6ICdiYXInLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIGxhYmVsczogbGFiZWxzLAogICAgICAgICAgZGF0YXNldHM6IFt7CiAgICAgICAgICAgIGxhYmVsOiAnVG90YWwgRXJyZXVycyBwYXIgQWdlbmNlJywKICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2VjMmQyZCcsCiAgICAgICAgICAgIC8qIFJvdWdlIHNvbWJyZSAqLwogICAgICAgICAgICBib3JkZXJDb2xvcjogJyM4YTFjMWMnLAogICAgICAgICAgICAvKiBSb3VnZSBsw6lnw6hyZW1lbnQgcGx1cyBjbGFpciAqLwoKICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDEKICAgICAgICAgIH1dCiAgICAgICAgfSwKICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLAogICAgICAgICAgc2NhbGVzOiB7CiAgICAgICAgICAgIHk6IHsKICAgICAgICAgICAgICBiZWdpbkF0WmVybzogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8vIENyw6llIGxlIGdyYXBoaXF1ZSBjaXJjdWxhaXJlIHBvdXIgbGUgcG91cmNlbnRhZ2UgZCdlcnJldXIgcGFyIENDCiAgICAgIGNvbnN0IGNjRXJyb3JDaGFydEN0eCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjY0Vycm9yQ2hhcnQiKS5nZXRDb250ZXh0KCIyZCIpOwogICAgICBjb25zdCBjY0Vycm9yRGF0YSA9IHRoaXMuY2NFcnJvckNvdW50cy5tYXAoY2MgPT4gY2MuUG91cmNlbnRhZ2UpOwogICAgICBjb25zdCBjY0Vycm9yTGFiZWxzID0gdGhpcy5jY0Vycm9yQ291bnRzLm1hcChjYyA9PiBjYy5DQyk7CiAgICAgIHRoaXMuY2NFcnJvckNoYXJ0ID0gbmV3IENoYXJ0KGNjRXJyb3JDaGFydEN0eCwgewogICAgICAgIHR5cGU6ICdwaWUnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIGxhYmVsczogY2NFcnJvckxhYmVscywKICAgICAgICAgIGRhdGFzZXRzOiBbewogICAgICAgICAgICBkYXRhOiBjY0Vycm9yRGF0YSwKICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjY0Vycm9yRGF0YS5tYXAoKCkgPT4gdGhpcy5nZXRSYW5kb21Db2xvcigpKSAvLyBHw6luw6hyZSBkZXMgY291bGV1cnMgYWzDqWF0b2lyZXMKICAgICAgICAgIH1dCiAgICAgICAgfSwKICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLAogICAgICAgICAgcGx1Z2luczogewogICAgICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICAgICAgY2FsbGJhY2tzOiB7CiAgICAgICAgICAgICAgICBsYWJlbDogZnVuY3Rpb24gKHRvb2x0aXBJdGVtKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBgJHt0b29sdGlwSXRlbS5sYWJlbH06ICR7dG9vbHRpcEl0ZW0ucmF3LnRvRml4ZWQoMil9JWA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8vIENyw6llIGxlIGdyYXBoaXF1ZSBjaXJjdWxhaXJlIHBvdXIgbGUgcG91cmNlbnRhZ2UgZGUgQ0MgYXZlYyBlcnJldXJzCiAgICAgIGNvbnN0IGNjV2l0aEVycm9yQ2hhcnRDdHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2NXaXRoRXJyb3JDaGFydCIpLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGNjV2l0aEVycm9yQ291bnQgPSB0aGlzLmNjRXJyb3JDb3VudHMuZmlsdGVyKGNjID0+IGNjLlBvdXJjZW50YWdlID4gMCkubGVuZ3RoOwogICAgICBjb25zdCBjY1RvdGFsQ291bnQgPSB0aGlzLmNjRXJyb3JDb3VudHMubGVuZ3RoOwogICAgICBjb25zdCBjY1dpdGhFcnJvclBlcmNlbnRhZ2UgPSBjY1dpdGhFcnJvckNvdW50IC8gY2NUb3RhbENvdW50ICogMTAwOwogICAgICBjb25zdCBjY1dpdGhvdXRFcnJvclBlcmNlbnRhZ2UgPSAxMDAgLSBjY1dpdGhFcnJvclBlcmNlbnRhZ2U7CiAgICAgIHRoaXMuY2NXaXRoRXJyb3JDaGFydCA9IG5ldyBDaGFydChjY1dpdGhFcnJvckNoYXJ0Q3R4LCB7CiAgICAgICAgdHlwZTogJ3BpZScsCiAgICAgICAgZGF0YTogewogICAgICAgICAgbGFiZWxzOiBbJ0NDIGF2ZWMgZXJyZXVycycsICdDQyBzYW5zIGVycmV1cnMnXSwKICAgICAgICAgIGRhdGFzZXRzOiBbewogICAgICAgICAgICBkYXRhOiBbY2NXaXRoRXJyb3JQZXJjZW50YWdlLCBjY1dpdGhvdXRFcnJvclBlcmNlbnRhZ2VdLAogICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFsnI0ZGNTczMycsICcjZDlkOWQ5J10KICAgICAgICAgIH1dCiAgICAgICAgfSwKICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLAogICAgICAgICAgcGx1Z2luczogewogICAgICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICAgICAgY2FsbGJhY2tzOiB7CiAgICAgICAgICAgICAgICBsYWJlbDogZnVuY3Rpb24gKHRvb2x0aXBJdGVtKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBgJHt0b29sdGlwSXRlbS5sYWJlbH06ICR7dG9vbHRpcEl0ZW0ucmF3LnRvRml4ZWQoMil9JWA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8vIENyw6llIGxlIGdyYXBoaXF1ZSBjaXJjdWxhaXJlIHBvdXIgbGUgcG91cmNlbnRhZ2UgZCdhZ2VuY2UgYXZlYyBlcnJldXJzCiAgICAgIGNvbnN0IGFnZW5jZVdpdGhFcnJvckNoYXJ0Q3R4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFnZW5jZVdpdGhFcnJvckNoYXJ0IikuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY29uc3QgYWdlbmNlV2l0aEVycm9yQ291bnQgPSB0aGlzLmFnZW5jZUVycm9yQ291bnRzLmZpbHRlcihhZ2VuY2UgPT4gYWdlbmNlWydQb3VyY2VudGFnZSddID4gMCkubGVuZ3RoOwogICAgICBjb25zdCBhZ2VuY2VUb3RhbENvdW50ID0gdGhpcy5hZ2VuY2VFcnJvckNvdW50cy5sZW5ndGg7CiAgICAgIGNvbnN0IGFnZW5jZVdpdGhFcnJvclBlcmNlbnRhZ2UgPSBhZ2VuY2VXaXRoRXJyb3JDb3VudCAvIGFnZW5jZVRvdGFsQ291bnQgKiAxMDA7CiAgICAgIGNvbnN0IGFnZW5jZVdpdGhvdXRFcnJvclBlcmNlbnRhZ2UgPSAxMDAgLSBhZ2VuY2VXaXRoRXJyb3JQZXJjZW50YWdlOwogICAgICB0aGlzLmFnZW5jZVdpdGhFcnJvckNoYXJ0ID0gbmV3IENoYXJ0KGFnZW5jZVdpdGhFcnJvckNoYXJ0Q3R4LCB7CiAgICAgICAgdHlwZTogJ3BpZScsCiAgICAgICAgZGF0YTogewogICAgICAgICAgbGFiZWxzOiBbJ0FnZW5jZSBhdmVjIGVycmV1cnMnLCAnQWdlbmNlIHNhbnMgZXJyZXVycyddLAogICAgICAgICAgZGF0YXNldHM6IFt7CiAgICAgICAgICAgIGRhdGE6IFthZ2VuY2VXaXRoRXJyb3JQZXJjZW50YWdlLCBhZ2VuY2VXaXRob3V0RXJyb3JQZXJjZW50YWdlXSwKICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBbJyNGRjU3MzMnLCAnI2Q5ZDlkOSddCiAgICAgICAgICB9XQogICAgICAgIH0sCiAgICAgICAgb3B0aW9uczogewogICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSwKICAgICAgICAgIHBsdWdpbnM6IHsKICAgICAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICAgIGNhbGxiYWNrczogewogICAgICAgICAgICAgICAgbGFiZWw6IGZ1bmN0aW9uICh0b29sdGlwSXRlbSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gYCR7dG9vbHRpcEl0ZW0ubGFiZWx9OiAke3Rvb2x0aXBJdGVtLnJhdy50b0ZpeGVkKDIpfSVgOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0UmFuZG9tQ29sb3IoKSB7CiAgICAgIGNvbnN0IGxldHRlcnMgPSAnMDEyMzQ1Njc4OUFCQ0RFRic7CiAgICAgIGxldCBjb2xvciA9ICcjJzsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHsKICAgICAgICBjb2xvciArPSBsZXR0ZXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2KV07CiAgICAgIH0KICAgICAgcmV0dXJuIGNvbG9yOwogICAgfSwKICAgIGdldFBvZGl1bUNvbG9yKGluZGV4KSB7CiAgICAgIGlmIChpbmRleCA9PT0gMCkgcmV0dXJuICJnb2xkIjsKICAgICAgaWYgKGluZGV4ID09PSAxKSByZXR1cm4gInNpbHZlciI7CiAgICAgIGlmIChpbmRleCA9PT0gMikgcmV0dXJuICJicm9uemUiOwogICAgICByZXR1cm4gInNlY29uZGFyeSI7CiAgICB9LAogICAgYXN5bmMgdXBsb2FkRmlsZSgpIHsKICAgICAgY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUtdXBsb2FkJyk7CiAgICAgIGNvbnN0IHZhbGlkYXRpb25JY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhbGlkYXRpb24taWNvbicpOwoKICAgICAgLy8gQWpvdXQgZCd1bmUgY2xhc3NlIGRlIGJvcmR1cmUgdmVydGUgZXQgZm9uZCBkZSBjb3VsZXVyIHBvdXIgaW5kaXF1ZXIgbGEgc8OpbGVjdGlvbiBkdSBmaWNoaWVyCiAgICAgIGZpbGVJbnB1dC5zdHlsZS5ib3JkZXIgPSAiMnB4IHNvbGlkIGdyZWVuIjsKICAgICAgZmlsZUlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZDRlZGRhIjsKICAgICAgY29uc3QgZmlsZSA9IGZpbGVJbnB1dC5maWxlc1swXTsKICAgICAgaWYgKCFmaWxlKSB7CiAgICAgICAgYWxlcnQoIlZldWlsbGV6IHPDqWxlY3Rpb25uZXIgdW4gZmljaGllci4iKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5maWxlTmFtZSA9IGZpbGUubmFtZTsKCiAgICAgIC8vIEFmZmljaGFnZSBkdSBzcGlubmVyIGV0IGTDqXNhY3RpdmF0aW9uIGR1IGJvdXRvbiBkJ3VwbG9hZAogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Bpbm5lciIpLmNsYXNzTGlzdC5yZW1vdmUoImQtbm9uZSIpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsZS11cGxvYWQiKS5kaXNhYmxlZCA9IHRydWU7CiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGZpbGUpOwogICAgICB0cnkgewogICAgICAgIC8vIEVudm9pIGR1IGZpY2hpZXIgdmVycyBsJ0FQSQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC92YWxpZGF0ZS1leGNlbC8nLCB7CiAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgIGJvZHk6IGZvcm1EYXRhCiAgICAgICAgfSk7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAvLyBNYXNxdWVyIGxlIHNwaW5uZXIgZXQgcsOpYWN0aXZlciBsJ2lucHV0CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwaW5uZXIiKS5jbGFzc0xpc3QuYWRkKCJkLW5vbmUiKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsZS11cGxvYWQiKS5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGwnaWPDtG5lIGRlIHZhbGlkYXRpb24gZW4gY2FzIGRlIHN1Y2PDqHMKICAgICAgICAgIHZhbGlkYXRpb25JY29uLmNsYXNzTGlzdC5yZW1vdmUoImQtbm9uZSIpOyAvLyBBZmZpY2hlIGwnaWPDtG5lIGRlIHZhbGlkYXRpb24KICAgICAgICAgIHZhbGlkYXRpb25JY29uLnN0eWxlLmNvbG9yID0gImdyZWVuIjsgLy8gQ2hhbmdlIGxhIGNvdWxldXIgZGUgbCdpY8O0bmUgZW4gdmVydAogICAgICAgICAgdGhpcy51cGRhdGVTdGF0cyhyZXN1bHQucmVzdWx0KTsgLy8gTWlzZSDDoCBqb3VyIGRlcyBzdGF0cyBvdSByw6lzdWx0YXRzCiAgICAgICAgICB0aGlzLmRvd25sb2FkTGluayA9IHJlc3VsdC5yZXN1bHQuZG93bmxvYWRfbGluazsKICAgICAgICAgIHRoaXMuaXNWYWxpZGF0aW9uQ29tcGxldGUgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBNYXNxdWVyIGwnaWPDtG5lIGV0IGluZGlxdWVyIGwnw6ljaGVjIHNpIG7DqWNlc3NhaXJlCiAgICAgICAgICB2YWxpZGF0aW9uSWNvbi5jbGFzc0xpc3QuYWRkKCJkLW5vbmUiKTsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycmV1ciA6ICR7cmVzdWx0Lm1lc3NhZ2V9YCk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIC8vIFNpIHVuZSBlcnJldXIgc2UgcHJvZHVpdCBsb3JzIGRlIGxhIHJlcXXDqnRlLCBhZmZpY2hlciB1biBtZXNzYWdlIGQnZXJyZXVyCiAgICAgICAgY29uc29sZS5lcnJvcignRXJyZXVyOicsIGVycm9yKTsKICAgICAgICB2YWxpZGF0aW9uSWNvbi5jbGFzc0xpc3QuYWRkKCJkLW5vbmUiKTsgLy8gTWFzcXVlciBsJ2ljw7RuZSBzaSB1bmUgZXJyZXVyIHNlIHByb2R1aXQKICAgICAgICBhbGVydCgiVW5lIGVycmV1ciBlc3Qgc3VydmVudWUgbG9ycyBkZSBsJ2Vudm9pIGR1IGZpY2hpZXIuIik7CgogICAgICAgIC8vIE1hc3F1ZXIgbGUgc3Bpbm5lciBldCByw6lhY3RpdmVyIGxlIGJvdXRvbgogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGlubmVyIikuY2xhc3NMaXN0LmFkZCgiZC1ub25lIik7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbGUtdXBsb2FkIikuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVN0YXRzKHJlc3VsdCkgewogICAgICB0aGlzLnRvdGFsUm93cyA9IHJlc3VsdC50b3RhbF9yb3dzOwogICAgICB0aGlzLnJvd3NXaXRoRXJyb3JzID0gcmVzdWx0LnJvd3Nfd2l0aF9lcnJvcnM7CiAgICAgIHRoaXMudG90YWxFcnJvcnMgPSByZXN1bHQudG90YWxfZXJyb3JzOwogICAgICB0aGlzLmVycm9yU3VtbWFyeSA9IHJlc3VsdC5lcnJvcl9zdW1tYXJ5OwogICAgICAvLyB0aGlzLmNjRXJyb3JDb3VudHMgPSByZXN1bHQuY2NfZXJyb3JfY291bnRzLm1hcCgoaXRlbSkgPT4gKHsKICAgICAgLy8gICAuLi5pdGVtLAogICAgICAvLyAgIFBvdXJjZW50YWdlOiBpdGVtLlBvdXJjZW50YWdlIHx8IDAsIC8vIFBhciBkw6lmYXV0IMOgIDAgc2kgbm9uIGZvdXJuaQogICAgICAvLyB9KSk7CgogICAgICB0aGlzLmNjRXJyb3JDb3VudHMgPSByZXN1bHQuY2NfZXJyb3JfY291bnRzLm1hcChpdGVtID0+ICh7CiAgICAgICAgLi4uaXRlbSwKICAgICAgICBQb3VyY2VudGFnZTogaXRlbS5Qb3VyY2VudGFnZSB8fCAwIC8vIFBhciBkw6lmYXV0IMOgIDAgc2kgbm9uIGZvdXJuaQogICAgICB9KSkKICAgICAgLy8gLmZpbHRlcigoaXRlbSkgPT4gaXRlbVsnVG90YWwgRXJyZXVycyddID4gMCkKICAgICAgOyAvLyBGaWx0cmVyIGNldXggYXZlYyB1biB0b3RhbCBzdXDDqXJpZXVyIMOgIDAKCiAgICAgIHRoaXMuYWdlbmNlRXJyb3JDb3VudHMgPSByZXN1bHQuYWdlbmNlX2Vycm9yX2NvdW50cyB8fCBbXTsKICAgICAgdGhpcy5hZ2VuY2VMYWJlbHMgPSB0aGlzLmFnZW5jZUVycm9yQ291bnRzLm1hcChpdGVtID0+IGl0ZW0uQWdlbmNlKTsKICAgICAgdGhpcy5hZ2VuY2VUb3RhbHMgPSB0aGlzLmFnZW5jZUVycm9yQ291bnRzLm1hcChpdGVtID0+IGl0ZW1bJ1RvdGFsIEVycmV1cnMnXSk7CiAgICAgIGNvbnNvbGUubG9nKCJhZ2VuY2VMYWJlbHM6IiwgdGhpcy5hZ2VuY2VMYWJlbHMpOwogICAgICBjb25zb2xlLmxvZygiYWdlbmNlVG90YWxzOiIsIHRoaXMuYWdlbmNlVG90YWxzKTsKICAgICAgdGhpcy5wZXJjZW50YWdlX2NjX3dpdGhfZXJyb3JzID0gcmVzdWx0LnBlcmNlbnRhZ2VfY2Nfd2l0aF9lcnJvcnM7CiAgICAgIHRoaXMucGVyY2VudGFnZV9hZ2VuY2VzX3dpdGhfZXJyb3JzID0gcmVzdWx0LnBlcmNlbnRhZ2VfYWdlbmNlc193aXRoX2Vycm9yczsKICAgICAgdGhpcy5jY1BvZGl1bSA9IEFycmF5LmZyb20obmV3IE1hcChyZXN1bHQuY2NfZXJyb3JfY291bnRzLmZpbHRlcihjYyA9PiBjYy5Qb3VyY2VudGFnZSA+IDUpIC8vIEZpbHRyZXIgbGVzIENDIGF2ZWMgdW4gcG91cmNlbnRhZ2UgPiA1JQogICAgICAuc29ydCgoYSwgYikgPT4gYlsnVG90YWwgRXJyZXVycyddIC0gYVsnVG90YWwgRXJyZXVycyddKSAvLyBUcmllciBwYXIgJ1RvdGFsIEVycmV1cnMnCiAgICAgIC5tYXAoY2MgPT4gW2NjLkNDLCBjY10pIC8vIFV0aWxpc2VyIGxlIGNoYW1wICdDQycgY29tbWUgY2zDqSBwb3VyIGdhcmFudGlyIGwndW5pY2l0w6kKICAgICAgKS52YWx1ZXMoKSk7CiAgICAgIGNvbnN0IGxhYmVscyA9IFsuLi50aGlzLmFnZW5jZUxhYmVsc107CiAgICAgIGNvbnN0IHRvdGFscyA9IFsuLi50aGlzLmFnZW5jZVRvdGFsc107CiAgICAgIGNvbnNvbGUubG9nKCJMYWJlbHMgbm9ybWF1eCA6IiwgbGFiZWxzKTsKICAgICAgY29uc29sZS5sb2coIkRvbm7DqWVzIG5vcm1hbGVzIDoiLCB0b3RhbHMpOwogICAgICBpZiAoIXJlc3VsdC5hZ2VuY2VfZXJyb3JfY291bnRzIHx8IHJlc3VsdC5hZ2VuY2VfZXJyb3JfY291bnRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkF1Y3VuZSBkb25uw6llIHRyb3V2w6llIHBvdXIgbGVzIGVycmV1cnMgcGFyIGFnZW5jZS4iKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5jcmVhdGVDaGFydCgpOwogICAgfSwKICAgIGFzeW5jIGRvd25sb2FkSW52YWxpZEZpbGUoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2Rvd25sb2FkLWludmFsaWQtZmlsZS8nLCB7CiAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgfSk7CiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpOwogICAgICAgICAgY29uc3QgZG93bmxvYWRVcmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICBhLmhyZWYgPSBkb3dubG9hZFVybDsKICAgICAgICAgIGEuZG93bmxvYWQgPSAiaW52YWxpZF9kYXRhLnhsc3giOyAvLyBOb20gZHUgZmljaGllcgogICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICAgIGEuY2xpY2soKTsKICAgICAgICAgIGEucmVtb3ZlKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgIGFsZXJ0KHJlc3VsdC5tZXNzYWdlIHx8ICJFcnJldXIgbG9ycyBkdSB0w6lsw6ljaGFyZ2VtZW50IGR1IGZpY2hpZXIuIik7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycmV1ciBsb3JzIGR1IHTDqWzDqWNoYXJnZW1lbnQgOiIsIGVycm9yKTsKICAgICAgICBhbGVydCgiVW5lIGVycmV1ciBlc3Qgc3VydmVudWUgbG9ycyBkdSB0w6lsw6ljaGFyZ2VtZW50IGR1IGZpY2hpZXIuIik7CiAgICAgIH0KICAgIH0sCiAgICBleHBvcnRUYWJsZVRvRXhjZWwoKSB7CiAgICAgIC8vIFRyYW5zZm9ybWV6IGxlcyBkb25uw6llcyBwb3VyIHPDqWxlY3Rpb25uZXIgb3UgcmVub21tZXIgbGVzIGNvbG9ubmVzIHNww6ljaWZpcXVlcwogICAgICBjb25zdCBkYXRhID0gdGhpcy5jY0Vycm9yQ291bnRzLm1hcCgoaXRlbSwgaW5kZXgpID0+ICh7CiAgICAgICAgSUQ6IGluZGV4ICsgMSwKICAgICAgICBDQzogaXRlbS5DQywKICAgICAgICAiVMOpbCI6IGl0ZW1bJ0Zvcm1hdCBkdSBOdW3DqXJvIGRlIFTDqWzDqXBob25lIEludmFsaWRlJ10sCiAgICAgICAgIkVtYWlsIjogaXRlbVsnRG9tYWluZSBvdSBGb3JtYXQgZGUgbFwnRW1haWwgSW52YWxpZGUnXSwKICAgICAgICAiU2V4ZS9HZW5yZSI6IGl0ZW1bJ1NleGUgb3UgR2VucmUgSW5jb3JyZWN0IG91IE1hbnF1YW50IHBvdXIgRW50cmVwcmlzZSddLAogICAgICAgIFJlcHLDqXNlbnRhbnQ6IGl0ZW1bJ1JlcHLDqXNlbnRhbnQgTMOpZ2FsIE1hbnF1YW50J10sCiAgICAgICAgQWdlbmNlOiBpdGVtLkFnZW5jZSwKICAgICAgICAiVG90YWwgRXJyZXVycyBBZ2VuY2UiOiBpdGVtWydUb3RhbCBFcnJldXJzIEFnZW5jZSddLAogICAgICAgICJQb3VyY2VudGFnZSBwYXIgQWdlbmNlIjogaXRlbVsnUG91cmNlbnRhZ2UgUGFyIEFnZW5jZSddLnRvRml4ZWQoMikgKyAiICUiIC8vIEFzc3VyZXotdm91cyBxdWUgY2Ugbm9tIGVzdCB1bmlxdWUKICAgICAgfSkpOwoKICAgICAgLy8gQ3LDqWUgdW5lIG5vdXZlbGxlIGZldWlsbGUgRXhjZWwgYXZlYyBkZXMgY29sb25uZXMgYmllbiBkw6lmaW5pZXMKICAgICAgY29uc3Qgd29ya3NoZWV0ID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KGRhdGEpOwoKICAgICAgLy8gQWpvdXRlIGRlcyB0aXRyZXMgZGUgY29sb25uZXMgKGZhY3VsdGF0aWYpCiAgICAgIGNvbnN0IGNvbHVtbnMgPSBbIklEIiwgIkNDIiwgIlTDqWwiLCAiRW1haWwiLCAiU2V4ZS9HZW5yZSIsICJSZXByw6lzZW50YW50IiwgIkFnZW5jZSIsICJUb3RhbCBFcnJldXJzIEFnZW5jZSIsICJQb3VyY2VudGFnZSBwYXIgQWdlbmNlIl07CiAgICAgIFhMU1gudXRpbHMuc2hlZXRfYWRkX2FvYSh3b3Jrc2hlZXQsIFtjb2x1bW5zXSwgewogICAgICAgIG9yaWdpbjogIkExIgogICAgICB9KTsKCiAgICAgIC8vIENyw6llIHVuIGNsYXNzZXVyIEV4Y2VsCiAgICAgIGNvbnN0IHdvcmtib29rID0gWExTWC51dGlscy5ib29rX25ldygpOwogICAgICBYTFNYLnV0aWxzLmJvb2tfYXBwZW5kX3NoZWV0KHdvcmtib29rLCB3b3Jrc2hlZXQsICJEw6l0YWlscyBkZXMgRXJyZXVycyIpOwoKICAgICAgLy8gR8OpbsOocmUgZXQgdMOpbMOpY2hhcmdlIGxlIGZpY2hpZXIgRXhjZWwKICAgICAgY29uc3QgZmlsZU5hbWUgPSAiZXJyZXVyc19jYy54bHN4IjsKICAgICAgWExTWC53cml0ZUZpbGUod29ya2Jvb2ssIGZpbGVOYW1lKTsKICAgIH0sCiAgICBleHBvcnRBZ2VuY2VUYWJsZVRvRXhjZWwoKSB7CiAgICAgIC8vIFByw6lwYXJhdGlvbiBkZXMgZG9ubsOpZXMgZHUgdGFibGVhdQogICAgICBjb25zdCBkYXRhID0gdGhpcy5hZ2VuY2VFcnJvckNvdW50cy5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoewogICAgICAgIElEOiBpbmRleCArIDEsCiAgICAgICAgQWdlbmNlOiBpdGVtLkFnZW5jZSwKICAgICAgICAiVMOpbCI6IGl0ZW1bJ0Zvcm1hdCBkdSBOdW3DqXJvIGRlIFTDqWzDqXBob25lIEludmFsaWRlJ10sCiAgICAgICAgIkVtYWlsIjogaXRlbVsnRG9tYWluZSBvdSBGb3JtYXQgZGUgbFwnRW1haWwgSW52YWxpZGUnXSwKICAgICAgICAiU2V4ZS9HZW5yZSI6IGl0ZW1bJ1NleGUgb3UgR2VucmUgSW5jb3JyZWN0IG91IE1hbnF1YW50IHBvdXIgRW50cmVwcmlzZSddLAogICAgICAgIFJlcHLDqXNlbnRhbnQ6IGl0ZW1bJ1JlcHLDqXNlbnRhbnQgTMOpZ2FsIE1hbnF1YW50J10sCiAgICAgICAgIk5vbWJyZSBkZSBDQyI6IGl0ZW1bJ05vbWJyZSBkZSBDQyddLAogICAgICAgICJUb3RhbCBFcnJldXJzIjogaXRlbVsnVG90YWwgRXJyZXVycyddLAogICAgICAgIC8vIEZvcm1hdGUgbGUgUG91cmNlbnRhZ2UgZW4gcG91cmNlbnRhZ2UgYXZlYyBkZXV4IGTDqWNpbWFsZXMKICAgICAgICBQb3VyY2VudGFnZTogaXRlbS5Qb3VyY2VudGFnZS50b0ZpeGVkKDIpICsgIiAlIgogICAgICB9KSk7CgogICAgICAvLyBDcsOpZSB1bmUgbm91dmVsbGUgZmV1aWxsZSBFeGNlbCBhdmVjIGxlcyBkb25uw6llcwogICAgICBjb25zdCB3b3Jrc2hlZXQgPSBYTFNYLnV0aWxzLmpzb25fdG9fc2hlZXQoZGF0YSk7CgogICAgICAvLyBBam91dGUgZGVzIHRpdHJlcyBkZSBjb2xvbm5lcyAoZmFjdWx0YXRpZikKICAgICAgY29uc3QgY29sdW1ucyA9IFsiSUQiLCAiQWdlbmNlIiwgIlTDqWwiLCAiRW1haWwiLCAiU2V4ZS9HZW5yZSIsICJSZXByw6lzZW50YW50IiwgIk5vbWJyZSBkZSBDQyIsICJUb3RhbCBFcnJldXJzIiwgIlBvdXJjZW50YWdlIl07CiAgICAgIFhMU1gudXRpbHMuc2hlZXRfYWRkX2FvYSh3b3Jrc2hlZXQsIFtjb2x1bW5zXSwgewogICAgICAgIG9yaWdpbjogIkExIgogICAgICB9KTsKCiAgICAgIC8vIENyw6llIHVuIGNsYXNzZXVyIEV4Y2VsCiAgICAgIGNvbnN0IHdvcmtib29rID0gWExTWC51dGlscy5ib29rX25ldygpOwogICAgICBYTFNYLnV0aWxzLmJvb2tfYXBwZW5kX3NoZWV0KHdvcmtib29rLCB3b3Jrc2hlZXQsICJFcnJldXJzIHBhciBBZ2VuY2UiKTsKCiAgICAgIC8vIEfDqW7DqHJlIGV0IHTDqWzDqWNoYXJnZSBsZSBmaWNoaWVyIEV4Y2VsCiAgICAgIGNvbnN0IGZpbGVOYW1lID0gImVycmV1cnNfYWdlbmNlLnhsc3giOwogICAgICBYTFNYLndyaXRlRmlsZSh3b3JrYm9vaywgZmlsZU5hbWUpOwogICAgfSwKICAgIGNhbGN1bGF0ZVRvdGFsKGNvbHVtbiwgdHlwZSkgewogICAgICAvLyBWw6lyaWZpY2F0aW9uIGR1IHR5cGUgcG91ciBjYWxjdWxlciB1bmlxdWVtZW50IHBvdXIgbGUgdGFibGVhdSBjaG9pc2kKICAgICAgaWYgKHR5cGUgPT09ICdjYycpIHsKICAgICAgICByZXR1cm4gdGhpcy5jY0Vycm9yQ291bnRzLnJlZHVjZSgoc3VtLCBjY0Vycm9yKSA9PiB7CiAgICAgICAgICByZXR1cm4gc3VtICsgKGNjRXJyb3JbY29sdW1uXSB8fCAwKTsKICAgICAgICB9LCAwKTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnYWdlbmNlJykgewogICAgICAgIHJldHVybiB0aGlzLmFnZW5jZUVycm9yQ291bnRzLnJlZHVjZSgoc3VtLCBhZ2VuY2VFcnJvcikgPT4gewogICAgICAgICAgcmV0dXJuIHN1bSArIChhZ2VuY2VFcnJvcltjb2x1bW5dIHx8IDApOwogICAgICAgIH0sIDApOwogICAgICB9CiAgICAgIHJldHVybiAwOyAvLyBSZXRvdXJuZSAwIHNpIGxlIHR5cGUgZXN0IGludmFsaWRlCiAgICB9LAogICAgY2FsY3VsYXRlUGVyY2VudGFnZVRvdGFsKGNvbHVtbiwgdHlwZSwgdG90YWxFcnJvcnMpIHsKICAgICAgLy8gVsOpcmlmaWUgc2kgbGUgdG90YWxFcnJvcnMgZXN0IHZhbGlkZSBwb3VyIMOpdml0ZXIgdW5lIGRpdmlzaW9uIHBhciB6w6lybwogICAgICBpZiAoIXRvdGFsRXJyb3JzIHx8IHRvdGFsRXJyb3JzIDw9IDApIHsKICAgICAgICByZXR1cm4gMDsgLy8gUmV0b3VybmUgMCBzaSBsZSB0b3RhbCBkZXMgZXJyZXVycyBlc3QgaW52YWxpZGUKICAgICAgfQogICAgICBsZXQgdG90YWxDb2x1bW5FcnJvcnMgPSAwOwoKICAgICAgLy8gQ2FsY3VsIGRlcyBlcnJldXJzIGVuIGZvbmN0aW9uIGR1IHR5cGUKICAgICAgaWYgKHR5cGUgPT09ICdjYycpIHsKICAgICAgICB0b3RhbENvbHVtbkVycm9ycyA9IHRoaXMuY2NFcnJvckNvdW50cy5yZWR1Y2UoKHN1bSwgY2NFcnJvcikgPT4gewogICAgICAgICAgcmV0dXJuIHN1bSArIChjY0Vycm9yW2NvbHVtbl0gfHwgMCk7CiAgICAgICAgfSwgMCk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2FnZW5jZScpIHsKICAgICAgICB0b3RhbENvbHVtbkVycm9ycyA9IHRoaXMuYWdlbmNlRXJyb3JDb3VudHMucmVkdWNlKChzdW0sIGFnZW5jZUVycm9yKSA9PiB7CiAgICAgICAgICByZXR1cm4gc3VtICsgKGFnZW5jZUVycm9yW2NvbHVtbl0gfHwgMCk7CiAgICAgICAgfSwgMCk7CiAgICAgIH0KCiAgICAgIC8vIENhbGN1bCBkdSBwb3VyY2VudGFnZSBwYXIgcmFwcG9ydCBhdSB0b3RhbCBkZXMgZXJyZXVycwogICAgICByZXR1cm4gKHRvdGFsQ29sdW1uRXJyb3JzIC8gdG90YWxFcnJvcnMgKiAxMDApLnRvRml4ZWQoMik7IC8vIFBvdXJjZW50YWdlIGF2ZWMgMiBkw6ljaW1hbGVzCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwbG9hZC1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudXBsb2FkRmlsZSk7CiAgICBjb25zb2xlLmxvZygiYWdlbmNlRXJyb3JDb3VudHM6IiwgdGhpcy5hZ2VuY2VFcnJvckNvdW50cyk7CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIHRoaXMuY3JlYXRlQ2hhcnQoKTsgLy8gQ3JlYXRlIGNoYXJ0IGFmdGVyIGRhdGEgaXMgc2V0CiAgICB9KTsKICB9Cn07"},{"version":3,"names":["Chart","XLSX","MiniStatisticsCard","TimelineList","TimelineItem","components","data","totalRows","rowsWithErrors","totalErrors","errorSummary","columnTitles","ccErrorCounts","agenceErrorCounts","iconBackground","percentage_cc_with_errors","percentage_agences_with_errors","agenceLabels","agenceTotals","ccPodium","fileName","downloadLink","isValidationComplete","selectedCC","computed","uniqueCCs","Set","map","cc","CC","groupedErrors","grouped","forEach","ccError","key","Agence","Object","values","group","totalErreursGlobales","toFixed","filteredErrors","filter","totalTel","reduce","sum","totalEmail","totalSexeGenre","totalRepresentant","totalErreursAgence","totalPourcentageAgence","totalPourcentage","parseFloat","methods","createChart","chartInstance","destroy","ccErrorChart","ccWithErrorChart","agenceWithErrorChart","console","log","agenceChartCtx","document","getElementById","getContext","labels","agence","type","datasets","label","backgroundColor","borderColor","borderWidth","options","responsive","scales","y","beginAtZero","ccErrorChartCtx","ccErrorData","Pourcentage","ccErrorLabels","getRandomColor","plugins","tooltip","callbacks","tooltipItem","raw","ccWithErrorChartCtx","ccWithErrorCount","length","ccTotalCount","ccWithErrorPercentage","ccWithoutErrorPercentage","agenceWithErrorChartCtx","agenceWithErrorCount","agenceTotalCount","agenceWithErrorPercentage","agenceWithoutErrorPercentage","letters","color","i","Math","floor","random","getPodiumColor","index","uploadFile","fileInput","validationIcon","style","border","file","files","alert","name","classList","remove","disabled","formData","FormData","append","response","fetch","method","body","result","json","add","ok","updateStats","download_link","error","message","total_rows","rows_with_errors","total_errors","error_summary","cc_error_counts","item","agence_error_counts","Array","from","Map","sort","a","b","totals","downloadInvalidFile","blob","downloadUrl","window","URL","createObjectURL","createElement","href","download","appendChild","click","exportTableToExcel","ID","Représentant","worksheet","utils","json_to_sheet","columns","sheet_add_aoa","origin","workbook","book_new","book_append_sheet","writeFile","exportAgenceTableToExcel","calculateTotal","column","agenceError","calculatePercentageTotal","totalColumnErrors","mounted","addEventListener","$nextTick"],"sources":["C:\\Users\\djibril.marwan\\Downloads\\analyse\\FIABILISATION\\Fiabilisation_text_mining\\dashboard-vue-front\\src\\views\\Dashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"py-4 container-fluid\">\r\n    \r\n    <div class=\"row\">\r\n      <div\r\n        class=\"d-flex flex-column align-items-center justify-content-center\"\r\n        style=\"height: 20h; background-color: white; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); margin: 10px; border-radius: 8px; padding: 50px;\"\r\n      >\r\n        <div class=\"mb-3 d-flex align-items-center\" style=\"margin-top: 20px;\">\r\n          <h3>Saisir un fichier</h3>\r\n          <div style=\"flex-grow: 1; margin-left: 10px;\">\r\n            <input type=\"file\" id=\"file-upload\" class=\"form-control\" style=\"border: 2px solid red;\" />\r\n          </div>\r\n          <span id=\"validation-icon\" class=\"d-none\" style=\"font-size: 20px; color: green; margin-left: 10px;\">✔</span>\r\n        </div>\r\n\r\n        <button\r\n          class=\"btn\"\r\n          id=\"upload-button\"\r\n          style=\"background: linear-gradient(310deg, #ad1717 0%, #ec2d2d 100%); color: white; border: none;\"\r\n        >\r\n          Valider\r\n        </button>\r\n\r\n        <button \r\n          v-if=\"isValidationComplete\"\r\n          @click=\"downloadInvalidFile\" \r\n          class=\"btn btn-primary mt-3\"\r\n          style=\"background: linear-gradient(310deg, #ad1717 0%, #ec2d2d 100%); color: white; border: none;\"\r\n        >\r\n          <i class=\"fas fa-download\"></i> <!-- Icône de téléchargement -->\r\n        </button>\r\n\r\n\r\n        <div id=\"spinner\" class=\"d-none\" style=\"font-size: 24px; color: red; margin-left: 10px;\">\r\n          <i class=\"fa fa-spinner fa-spin\"></i> Chargement...\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row d-flex justify-content-between\">\r\n      <!-- Affichage des statistiques -->\r\n      <div class=\"col-xl-2.5 col-sm-6 mb-xl-0 mb-4\">\r\n        <mini-statistics-card\r\n          title=\"Nombre de comptes\"\r\n          :value=\"totalRows\"\r\n          :percentage=\"{\r\n            value: 'N/A',\r\n            color: 'text-muted',\r\n          }\"\r\n          style=\"background: linear-gradient(310deg, #ad1717 0%, #ec2d2d 100%); color: black;\"\r\n          :title-style=\"{ color: 'gray', fontWeight: 'bold' }\"\r\n          :value-style=\"{ color: 'white' }\"\r\n          :percentage-style=\"{ color: 'white' }\"\r\n          direction-reverse\r\n        />\r\n      </div>\r\n      <div class=\"col-xl-2.5 col-sm-6 mb-xl-0 mb-4\">\r\n        <mini-statistics-card\r\n          title=\"Nom du fichier\"\r\n          :value=\"fileName || 'Aucun fichier chargé'\"\r\n          :percentage=\"{\r\n            value: 'N/A',\r\n            color: 'text-muted',\r\n          }\"\r\n          style=\"background: linear-gradient(310deg, #ad1717 0%, #ec2d2d 100%); color: black;\"\r\n          :title-style=\"{ color: 'white' }\"\r\n          :value-style=\"{ color: 'white' }\"\r\n          :percentage-style=\"{ color: 'white' }\"\r\n          direction-reverse\r\n          class=\"custom-value-card\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <button \r\n          v-if=\"isValidationComplete\"\r\n          @click=\"downloadInvalidFile\" \r\n          class=\"btn btn-primary mt-3\"\r\n          style=\"background: linear-gradient(310deg, #ad1717 0%, #ec2d2d 100%); color: black; border: none;\"\r\n        \r\n        >\r\n          Télécharger les données invalides\r\n        </button>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"row d-flex justify-content-between\">\r\n      <div class=\"col-xl-3 col-sm-6 mb-xl-0 mb-4\">\r\n        <mini-statistics-card\r\n          title=\"Nombre de compte avec erreurs \"\r\n          :value=\"rowsWithErrors\"\r\n          :percentage=\"{\r\n            value: 'N/A',\r\n            color: 'text-danger',\r\n          }\"\r\n          style=\"background: linear-gradient(310deg, #ad1717 0%, #ec2d2d 100%); color: #d3d3d3;\"\r\n          direction-reverse\r\n        />\r\n      </div>\r\n      <div class=\"col-xl-3 col-sm-6 mb-xl-0 mb-4\">\r\n        <mini-statistics-card\r\n          title=\"Nombres total d'erreurs comptes\"\r\n          :value=\"totalErrors\"\r\n          :percentage=\"{\r\n            value: 'N/A',\r\n            color: 'text-danger',\r\n          }\"\r\n          :icon=\"{\r\n            component: 'ni ni-alert-circle-exc',\r\n            background: iconBackground,\r\n          }\"\r\n          style=\"background: linear-gradient(310deg, #ad1717 0%, #ec2d2d 100%); color: black;\"\r\n          direction-reverse\r\n        />\r\n      </div>\r\n      <div class=\"col-xl-3 col-sm-6 mb-xl-0\">\r\n        <mini-statistics-card\r\n          title=\"Pourcentage de CC ayant des erreurs \"\r\n          :value=\"`${percentage_cc_with_errors}%`\"\r\n          :percentage=\"{\r\n            value: 'N/A',\r\n            color: 'text-danger',\r\n          }\"\r\n          :icon=\"{\r\n            component: 'ni ni-alert-circle-exc',\r\n            background: iconBackground,\r\n          }\"\r\n          style=\"background: linear-gradient(310deg, #ad1717 0%, #ec2d2d 100%); color: black;\"\r\n          direction-reverse\r\n        />\r\n      </div>\r\n      <div class=\"col-xl-3 col-sm-6 mb-xl-0 mb-4\">\r\n        <mini-statistics-card\r\n          title=\"Pourcentage d'agences ayant des erreurs\"\r\n          :value=\"`${percentage_agences_with_errors}%`\"\r\n          :percentage=\"{\r\n            value: 'N/A',\r\n            color: 'text-danger',\r\n          }\"\r\n          :icon=\"{\r\n            component: 'ni ni-alert-circle-exc',\r\n            background: iconBackground,\r\n          }\"\r\n          style=\"background: linear-gradient(310deg, #ad1717 0%, #ec2d2d 100%); color: black;\"\r\n          direction-reverse\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <br>\r\n    <h5>Types d'erreurs</h5>\r\n    <hr style=\"border: 2px solid gray;\">\r\n    <br>\r\n\r\n    <div class=\"row d-flex justify-content-between\">\r\n      <div\r\n        v-for=\"(error, index) in errorSummary\"\r\n        :key=\"index\"\r\n        class=\"col-xl-3 col-sm-6 mb-xl-0 mb-4\"\r\n      >\r\n        <mini-statistics-card\r\n          :title=\"columnTitles[error.column] || error.column\" \r\n          :value=\"error.count\"\r\n          :percentage=\"{\r\n            value: 'N/A',\r\n            color: 'text-danger',\r\n          }\"\r\n          :icon=\"{\r\n            component: 'ni ni-alert-circle-exc',\r\n            background: iconBackground,\r\n          }\"\r\n          style=\"background: linear-gradient(310deg, #ad1717 0%, #ec2d2d 100%); color: black;\"\r\n          direction-reverse\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Détails des Erreurs commises par les CC</h5>\r\n            <!-- Filtre CC -->\r\n            <div class=\"mb-3\">\r\n              <label for=\"filterCC\" class=\"form-label\">Filtrer par CC :</label>\r\n              <select id=\"filterCC\" v-model=\"selectedCC\" class=\"form-select\" style=\"font-family: 'Arial', sans-serif; font-size: 14px;\">\r\n                <option value=\"\">Tous les CC</option>\r\n                <option v-for=\"cc in uniqueCCs\" :key=\"cc\" :value=\"cc\" style=\"font-family: 'Arial', sans-serif; font-size: 14px;\">{{ cc }}</option>\r\n              </select>\r\n            </div>\r\n            <button \r\n              @click=\"exportTableToExcel\"\r\n              class=\"btn btn-success\"\r\n              style=\"background: linear-gradient(310deg, #4CAF50 0%, #2E7D32 100%); color: white; border: none;\"\r\n            >\r\n              <i class=\"fas fa-file-excel\"></i> Exporter en Excel\r\n            </button>\r\n            <!-- Conteneur pour le défilement -->\r\n            <div style=\"max-height: 400px; overflow-y: auto;\">\r\n              <table class=\"table table-bordered\" style=\"border: 1px solid black; border-collapse: collapse;\">\r\n                <thead style=\"position: sticky; top: 0; background: linear-gradient(310deg, #ad1717 0%, #ec2d2d 100%); color: white; z-index: 2;\">\r\n                  <tr>\r\n                    <th>ID</th>\r\n                    <th>CC</th>\r\n                    <th>Tél</th>\r\n                    <th>Email</th>\r\n                    <th>Sexe/Genre</th>\r\n                    <th>Représentant</th>\r\n                    <th>Agence</th>\r\n                    <th>Total Erreurs Agence</th>\r\n                    <th>Taux d'Erreurs du CC dans l'Agence</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr \r\n                    v-for=\"(ccError, index) in filteredErrors\" \r\n                    :key=\"ccError.CC\" \r\n                    :class=\"{ 'text-danger': ccError.Pourcentage > 1 }\"\r\n                  >\r\n                    <td>{{ index + 1 }}</td>\r\n                    <td>{{ ccError.CC }}</td>\r\n                    <td>{{ ccError['Format du Numéro de Téléphone Invalide'] }}</td>\r\n                    <td>{{ ccError['Domaine ou Format de l\\'Email Invalide'] }}</td>\r\n                    <td>{{ ccError['Sexe ou Genre Incorrect ou Manquant pour Entreprise'] }}</td>\r\n                    <td>{{ ccError['Représentant Légal Manquant'] }}</td>\r\n                    <td>{{ ccError.Agence }}</td>\r\n                    <td>{{ ccError['Total Erreurs Agence'] }}</td>\r\n                    <td>{{ ccError['Pourcentage Par Agence'].toFixed(2) }}%</td>\r\n                  </tr>\r\n                  <!-- Ligne Total -->\r\n                  <tr style=\"background: linear-gradient(310deg, #ad1717 0%, #ec2d2d 100%); color: white; font-weight: bold;\">\r\n                    <td colspan=\"2\">Total</td>\r\n                    <td>{{ totalTel }}</td>\r\n                    <td>{{ totalEmail }}</td>\r\n                    <td>{{ totalSexeGenre }}</td>\r\n                    <td>{{ totalRepresentant }}</td>\r\n                    <td>—</td>\r\n                    <td>{{ totalErreursAgence }}</td>\r\n                    <td>{{ totalPourcentageAgence > 100 ? 100 : totalPourcentageAgence }}%</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <!-- Fin du conteneur -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n\r\n    <br>\r\n    <hr style=\"border: 2px solid gray;\">\r\n    <br>\r\n    \r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Détails des Erreurs commises par les agences</h5>\r\n            <button \r\n              @click=\"exportAgenceTableToExcel\"\r\n              class=\"btn btn-success\"\r\n              style=\"background: linear-gradient(310deg, #4CAF50 0%, #2E7D32 100%); color: white; border: none;\"\r\n            >\r\n              <i class=\"fas fa-file-excel\"></i> Exporter en Excel\r\n            </button>\r\n            <!-- Conteneur avec défilement pour la table -->\r\n            <div style=\"max-height: 400px; overflow-y: auto;\">\r\n              <table class=\"table table-bordered\" style=\"border: 1px solid black; border-collapse: collapse;\">\r\n                <thead style=\"position: sticky; top: 0; background: linear-gradient(310deg, #ad1717 0%, #ec2d2d 100%) ;color : white ; z-index: 2;\">\r\n                  <tr>\r\n                    <th>ID</th>\r\n                    <th>Agence</th>\r\n                    <th>Tél</th>\r\n                    <th>Email</th>\r\n                    <th>Sexe/Genre</th>\r\n                    <th>Représentant</th>\r\n                    <th>Nombre de CC</th>\r\n                    <th>Total</th>\r\n                    <th>Pourcentage</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"(agenceError, index) in agenceErrorCounts\" :key=\"agenceError.Agence\" :class=\"{ 'text-danger': agenceError.Pourcentage > 1 }\">\r\n                    <td>{{ index + 1 }}</td>\r\n                    <td>{{ agenceError.Agence }}</td>\r\n                    <td>{{ agenceError['Format du Numéro de Téléphone Invalide'] }}</td>\r\n                    <td>{{ agenceError['Domaine ou Format de l\\'Email Invalide'] }}</td>\r\n                    <td>{{ agenceError['Sexe ou Genre Incorrect ou Manquant pour Entreprise'] }}</td>\r\n                    <td>{{ agenceError['Représentant Légal Manquant'] }}</td>\r\n                    <td>{{ agenceError['Nombre de CC'] }}</td>\r\n                    <td>\r\n                      {{ agenceError['Total Erreurs'] }}\r\n                    </td>\r\n                    <td>\r\n                      {{ (agenceError.Pourcentage).toFixed(2) }}%\r\n                    </td>\r\n                  </tr>\r\n                  <tr style=\"background: linear-gradient(310deg, #ad1717 0%, #ec2d2d 100%); color: white; font-weight: bold;\">\r\n                    <td colspan=\"2\">Totaux</td>\r\n                    <td>{{ calculateTotal('Format du Numéro de Téléphone Invalide', 'agence') }}</td>\r\n                    <td>{{ calculateTotal('Domaine ou Format de l\\'Email Invalide', 'agence') }}</td>\r\n                    <td>{{ calculateTotal('Sexe ou Genre Incorrect ou Manquant pour Entreprise', 'agence') }}</td>\r\n                    <td>{{ calculateTotal('Représentant Légal Manquant', 'agence') }}</td>\r\n                    <td>{{ calculateTotal('Nombre de CC', 'agence') }}</td>\r\n                    <td>{{ calculateTotal('Total Erreurs', 'agence') }}</td>\r\n                    <td>\r\n                      {{ calculatePercentageTotal('Pourcentage', 'agence').toFixed(2) }}%\r\n                    </td>\r\n                  </tr>\r\n\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <!-- Fin du conteneur -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"mt-4 row\">\r\n      <div class=\"mb-6 col-lg-12\">\r\n        <div class=\"card z-index-2\">\r\n          <div class=\"p-3 card-body\">\r\n            <!-- Replace the reports-bar-chart with a canvas -->\r\n            <canvas id=\"agenceChart\" width=\"400\" height=\"200\"></canvas>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Diagramme circulaire du pourcentage d'erreur par CC -->\r\n      <div class=\"col-lg-6 col-md-6 mb-4\">\r\n        <div class=\"card z-index-2\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Pourcentage d'Erreur par CC</h5>\r\n            <canvas id=\"ccErrorChart\" width=\"400\" height=\"400\"></canvas>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Diagramme circulaire du pourcentage de CC avec erreurs -->\r\n      <div class=\"col-lg-6 col-md-6 mb-4\">\r\n        <div class=\"card z-index-2\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Pourcentage de CC ayant des erreurs</h5>\r\n            <canvas id=\"ccWithErrorChart\" width=\"400\" height=\"400\"></canvas>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n      <div class=\"col-lg-6 col-md-6 mb-4\">\r\n        <timeline-list \r\n          class=\"h-100\"\r\n          title=\"Classement des CC ayant commis le plus d'erreurs\"\r\n          :description=\"`<span class='icon-left' style='font-size: 1.5em; vertical-align: middle; ><span v-if='showIcon'>🔻</span> Les hauts totaux d'erreurs</span>`\"\r\n          :showIcon=\"true\"\r\n        >\r\n        <timeline-item\r\n          v-for=\"(cc, index) in ccPodium\"\r\n          :key=\"index\"\r\n          :color=\"getPodiumColor(index)\"\r\n          :icon=\"`${index === 0 ? 'fa fa-star' : index === 1 ? 'fa fa-star-half-alt' : index === 2 ? 'fa fa-star-of-david' : 'fa fa-star-o'}`\"\r\n          :title=\"`${cc.CC} (${cc['Total Erreurs']} erreurs)`\"\r\n          :date-time=\"`Pourcentage: ${cc.Pourcentage.toFixed(2)}%`\"\r\n          :style=\"{ fontSize: '1.5em' }\"\r\n        />\r\n        </timeline-list>\r\n      </div>\r\n      <div class=\"col-lg-6 col-md-6 mb-4\">\r\n        <div class=\"card z-index-2\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Pourcentage d'Agence ayant des erreurs</h5>\r\n            <canvas id=\"agenceWithErrorChart\" width=\"400\" height=\"400\"></canvas>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Chart from \"chart.js/auto\";\r\nimport * as XLSX from \"xlsx\";\r\nimport MiniStatisticsCard from \"@/examples/Cards/MiniStatisticsCard.vue\";\r\n// import ReportsBarChart from \"@/examples/Charts/ReportsBarChart.vue\";\r\nimport TimelineList from \"./components/TimelineList.vue\";\r\nimport TimelineItem from \"./components/TimelineItem.vue\";\r\n// import ProjectsCard from \"./components/ProjectsCard.vue\";\r\nexport default {\r\n  components: {\r\n    MiniStatisticsCard,\r\n    // ReportsBarChart,\r\n    // ProjectsCard,\r\n    TimelineList,\r\n    TimelineItem,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      totalRows: 0,\r\n      rowsWithErrors: 0,\r\n      totalErrors: 0,\r\n      errorSummary: [],\r\n      columnTitles: {\r\n        \"Format du Numéro de Téléphone Invalide\": \"Téléphone Invalide\",\r\n        \"Domaine ou Format de l'Email Invalide\": \"Email Invalide\",\r\n        \"Sexe ou Genre Incorrect ou Manquant pour Entreprise\": \"Sexe/Genre\",\r\n        \"Représentant Légal Manquant\": \"Représentant \",\r\n      },\r\n      ccErrorCounts: [],\r\n      agenceErrorCounts: [],\r\n      iconBackground: '#5E72E4',\r\n      percentage_cc_with_errors : 0,\r\n      percentage_agences_with_errors : 0,\r\n      agenceLabels: [], // Labels pour le graphique\r\n      agenceTotals: [],\r\n      ccPodium: [],\r\n      fileName: \"\",\r\n      downloadLink: \"\",\r\n      isValidationComplete: false,\r\n      selectedCC: \"\",\r\n\r\n    };\r\n  },\r\n\r\n  computed: { \r\n    // Liste unique des CC pour le filtre\r\n    uniqueCCs() {\r\n      return [...new Set(this.ccErrorCounts.map(cc => cc.CC))];\r\n    },\r\n    \r\n    // Regroupement des données par CC et Agence\r\n    groupedErrors() {\r\n      const grouped = {};\r\n\r\n      // Regroupement des erreurs par CC et Agence\r\n      this.ccErrorCounts.forEach((ccError) => {\r\n        const key = `${ccError.CC}-${ccError.Agence}`;\r\n        if (!grouped[key]) {\r\n          grouped[key] = { ...ccError };\r\n        } else {\r\n          // Agrégation des erreurs pour le même CC-Agence\r\n          grouped[key][\"Total Erreurs Agence\"] += ccError[\"Total Erreurs Agence\"] || 0;\r\n          grouped[key][\"Format du Numéro de Téléphone Invalide\"] += ccError[\"Format du Numéro de Téléphone Invalide\"] || 0;\r\n          grouped[key][\"Domaine ou Format de l'Email Invalide\"] += ccError[\"Domaine ou Format de l'Email Invalide\"] || 0;\r\n          grouped[key][\"Sexe ou Genre Incorrect ou Manquant pour Entreprise\"] += ccError[\"Sexe ou Genre Incorrect ou Manquant pour Entreprise\"] || 0;\r\n          grouped[key][\"Représentant Légal Manquant\"] += ccError[\"Représentant Légal Manquant\"] || 0;\r\n        }\r\n      });\r\n\r\n      // Calcul des pourcentages après regroupement\r\n      Object.values(grouped).forEach((group) => {\r\n        const totalErrors = this.totalErreursGlobales; // Total global des erreurs\r\n        group[\"Pourcentage Par Agence\"] = totalErrors > 0\r\n          ? ((group[\"Total Erreurs Agence\"] / totalErrors) * 100).toFixed(2)\r\n          : 0;\r\n      });\r\n\r\n      return Object.values(grouped);\r\n    },\r\n\r\n    // Données filtrées selon le CC sélectionné\r\n    filteredErrors() {\r\n      if (this.selectedCC) {\r\n        return this.groupedErrors.filter(cc => cc.CC === this.selectedCC);\r\n      }\r\n      return this.groupedErrors;\r\n    },\r\n\r\n    // Calcul des totaux pour les colonnes\r\n    totalTel() {\r\n      return this.filteredErrors.reduce((sum, cc) => sum + (cc[\"Format du Numéro de Téléphone Invalide\"] || 0), 0);\r\n    },\r\n    totalEmail() {\r\n      return this.filteredErrors.reduce((sum, cc) => sum + (cc[\"Domaine ou Format de l'Email Invalide\"] || 0), 0);\r\n    },\r\n    totalSexeGenre() {\r\n      return this.filteredErrors.reduce((sum, cc) => sum + (cc[\"Sexe ou Genre Incorrect ou Manquant pour Entreprise\"] || 0), 0);\r\n    },\r\n    totalRepresentant() {\r\n      return this.filteredErrors.reduce((sum, cc) => sum + (cc[\"Représentant Légal Manquant\"] || 0), 0);\r\n    },\r\n    totalErreursAgence() {\r\n      return this.filteredErrors.reduce((sum, cc) => sum + (cc[\"Total Erreurs Agence\"] || 0), 0);\r\n    },\r\n    \r\n    // Calcul global des erreurs\r\n    totalErreursGlobales() {\r\n      return this.ccErrorCounts.reduce((sum, cc) => sum + (cc[\"Total Erreurs Agence\"] || 0), 0);\r\n    },\r\n\r\n    // Calcul du pourcentage total des erreurs par agence\r\n    totalPourcentageAgence() {\r\n      const totalPourcentage = this.filteredErrors.reduce((sum, cc) => sum + parseFloat(cc[\"Pourcentage Par Agence\"] || 0), 0);\r\n      return totalPourcentage.toFixed(2); // Retourne le pourcentage total avec 2 décimales\r\n    }\r\n},\r\n\r\n\r\n\r\n  methods: {\r\n\r\n    createChart() {\r\n      if (this.chartInstance) {\r\n        this.chartInstance.destroy();\r\n      }\r\n      if (this.ccErrorChart) {\r\n        this.ccErrorChart.destroy();\r\n      }\r\n      if (this.ccWithErrorChart) {\r\n        this.ccWithErrorChart.destroy();\r\n      }\r\n      if (this.agenceWithErrorChart) {\r\n        this. agenceWithErrorChart.destroy();\r\n      }\r\n\r\n      // Crée le graphique des erreurs par agence\r\n      console.log(\"Creating chart with data:\", this.agenceErrorCounts);\r\n      const agenceChartCtx = document.getElementById(\"agenceChart\").getContext(\"2d\");\r\n      const labels = this.agenceErrorCounts.map(agence => agence.Agence);\r\n      const data = this.agenceErrorCounts.map(agence => agence['Total Erreurs']);\r\n      \r\n      if (this.chartInstance) {\r\n        this.chartInstance.destroy();\r\n      }\r\n\r\n      this.chartInstance = new Chart(agenceChartCtx, {\r\n        type: 'bar',\r\n        data: {\r\n          labels: labels,\r\n          datasets: [{\r\n            label: 'Total Erreurs par Agence',\r\n            data: data,\r\n            backgroundColor: '#ec2d2d', /* Rouge sombre */\r\n            borderColor: '#8a1c1c', /* Rouge légèrement plus clair */\r\n\r\n            borderWidth: 1,\r\n          }],\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          scales: {\r\n            y: {\r\n              beginAtZero: true,\r\n            },\r\n          },\r\n        },\r\n      });\r\n\r\n      // Crée le graphique circulaire pour le pourcentage d'erreur par CC\r\n      const ccErrorChartCtx = document.getElementById(\"ccErrorChart\").getContext(\"2d\");\r\n      const ccErrorData = this.ccErrorCounts.map(cc => cc.Pourcentage);\r\n      const ccErrorLabels = this.ccErrorCounts.map(cc => cc.CC);\r\n      \r\n      this.ccErrorChart = new Chart(ccErrorChartCtx, {\r\n        type: 'pie',\r\n        data: {\r\n          labels: ccErrorLabels,\r\n          datasets: [{\r\n            data: ccErrorData,\r\n            backgroundColor: ccErrorData.map(() => this.getRandomColor()), // Génère des couleurs aléatoires\r\n          }],\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          plugins: {\r\n            tooltip: {\r\n              callbacks: {\r\n                label: function(tooltipItem) {\r\n                  return `${tooltipItem.label}: ${tooltipItem.raw.toFixed(2)}%`;\r\n                },\r\n              },\r\n            },\r\n          },\r\n        },\r\n      });\r\n\r\n      // Crée le graphique circulaire pour le pourcentage de CC avec erreurs\r\n      const ccWithErrorChartCtx = document.getElementById(\"ccWithErrorChart\").getContext(\"2d\");\r\n      const ccWithErrorCount = this.ccErrorCounts.filter(cc => cc.Pourcentage > 0).length;\r\n      const ccTotalCount = this.ccErrorCounts.length;\r\n      const ccWithErrorPercentage = (ccWithErrorCount / ccTotalCount) * 100;\r\n      const ccWithoutErrorPercentage = 100 - ccWithErrorPercentage;\r\n\r\n      this.ccWithErrorChart = new Chart(ccWithErrorChartCtx, {\r\n        type: 'pie',\r\n        data: {\r\n          labels: ['CC avec erreurs', 'CC sans erreurs'],\r\n          datasets: [{\r\n            data: [ccWithErrorPercentage, ccWithoutErrorPercentage],\r\n            backgroundColor: ['#FF5733', '#d9d9d9'],\r\n          }],\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          plugins: {\r\n            tooltip: {\r\n              callbacks: {\r\n                label: function(tooltipItem) {\r\n                  return `${tooltipItem.label}: ${tooltipItem.raw.toFixed(2)}%`;\r\n                },\r\n              },\r\n            },\r\n          },\r\n        },\r\n      });\r\n    \r\n    // Crée le graphique circulaire pour le pourcentage d'agence avec erreurs\r\n      const agenceWithErrorChartCtx = document.getElementById(\"agenceWithErrorChart\").getContext(\"2d\");\r\n      const agenceWithErrorCount = this.agenceErrorCounts.filter(agence => agence['Pourcentage'] > 0).length;\r\n      const agenceTotalCount = this.agenceErrorCounts.length;\r\n      const agenceWithErrorPercentage = (agenceWithErrorCount / agenceTotalCount) * 100;\r\n      const agenceWithoutErrorPercentage = 100 - agenceWithErrorPercentage;\r\n\r\n      this.agenceWithErrorChart = new Chart(agenceWithErrorChartCtx, {\r\n        type: 'pie',\r\n        data: {\r\n          labels: ['Agence avec erreurs', 'Agence sans erreurs'],\r\n          datasets: [{\r\n            data: [agenceWithErrorPercentage, agenceWithoutErrorPercentage],\r\n            backgroundColor: ['#FF5733', '#d9d9d9'],\r\n          }],\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          plugins: {\r\n            tooltip: {\r\n              callbacks: {\r\n                label: function(tooltipItem) {\r\n                  return `${tooltipItem.label}: ${tooltipItem.raw.toFixed(2)}%`;\r\n                },\r\n              },\r\n            },\r\n          },\r\n        },\r\n      });\r\n    },\r\n\r\n    getRandomColor() {\r\n      const letters = '0123456789ABCDEF';\r\n      let color = '#';\r\n      for (let i = 0; i < 6; i++) {\r\n        color += letters[Math.floor(Math.random() * 16)];\r\n      }\r\n      return color;\r\n    },\r\n\r\n\r\n    getPodiumColor(index) {\r\n      if (index === 0) return \"gold\";\r\n      if (index === 1) return \"silver\";\r\n      if (index === 2) return \"bronze\";\r\n      return \"secondary\";\r\n    },\r\n\r\n    async uploadFile() {\r\n      const fileInput = document.getElementById('file-upload');\r\n      const validationIcon = document.getElementById('validation-icon');\r\n      \r\n      // Ajout d'une classe de bordure verte et fond de couleur pour indiquer la sélection du fichier\r\n      fileInput.style.border = \"2px solid green\";\r\n      fileInput.style.backgroundColor = \"#d4edda\";\r\n      \r\n      const file = fileInput.files[0];\r\n\r\n      if (!file) {\r\n        alert(\"Veuillez sélectionner un fichier.\");\r\n        return;\r\n      }\r\n\r\n      this.fileName = file.name;\r\n\r\n      // Affichage du spinner et désactivation du bouton d'upload\r\n      document.getElementById(\"spinner\").classList.remove(\"d-none\");\r\n      document.getElementById(\"file-upload\").disabled = true;\r\n\r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n\r\n      try {\r\n        // Envoi du fichier vers l'API\r\n        const response = await fetch('http://localhost:8000/validate-excel/', {\r\n          method: 'POST',\r\n          body: formData,\r\n        });\r\n\r\n        const result = await response.json();\r\n\r\n        // Masquer le spinner et réactiver l'input\r\n        document.getElementById(\"spinner\").classList.add(\"d-none\");\r\n        document.getElementById(\"file-upload\").disabled = false;\r\n\r\n        if (response.ok) {\r\n          // Affichage de l'icône de validation en cas de succès\r\n          validationIcon.classList.remove(\"d-none\"); // Affiche l'icône de validation\r\n          validationIcon.style.color = \"green\"; // Change la couleur de l'icône en vert\r\n          this.updateStats(result.result); // Mise à jour des stats ou résultats\r\n          this.downloadLink = result.result.download_link;\r\n          this.isValidationComplete = true;\r\n        } else {\r\n          // Masquer l'icône et indiquer l'échec si nécessaire\r\n          validationIcon.classList.add(\"d-none\");\r\n          console.error(`Erreur : ${result.message}`);\r\n        }\r\n      } catch (error) {\r\n        // Si une erreur se produit lors de la requête, afficher un message d'erreur\r\n        console.error('Erreur:', error);\r\n        validationIcon.classList.add(\"d-none\"); // Masquer l'icône si une erreur se produit\r\n        alert(\"Une erreur est survenue lors de l'envoi du fichier.\");\r\n\r\n        // Masquer le spinner et réactiver le bouton\r\n        document.getElementById(\"spinner\").classList.add(\"d-none\");\r\n        document.getElementById(\"file-upload\").disabled = false;\r\n      }\r\n    }\r\n\r\n,\r\n  \r\n    updateStats(result) {\r\n          this.totalRows = result.total_rows;\r\n          this.rowsWithErrors = result.rows_with_errors;\r\n          this.totalErrors = result.total_errors;\r\n          this.errorSummary = result.error_summary;\r\n          // this.ccErrorCounts = result.cc_error_counts.map((item) => ({\r\n          //   ...item,\r\n          //   Pourcentage: item.Pourcentage || 0, // Par défaut à 0 si non fourni\r\n          // }));\r\n\r\n          this.ccErrorCounts = result.cc_error_counts\r\n          .map((item) => ({\r\n            ...item,\r\n            Pourcentage: item.Pourcentage || 0, // Par défaut à 0 si non fourni\r\n          }))\r\n          // .filter((item) => item['Total Erreurs'] > 0)\r\n          ; // Filtrer ceux avec un total supérieur à 0\r\n\r\n          this.agenceErrorCounts = result.agence_error_counts || [];\r\n          this.agenceLabels = this.agenceErrorCounts.map((item) => item.Agence);\r\n          this.agenceTotals = this.agenceErrorCounts.map((item) => item['Total Erreurs']);\r\n          \r\n          console.log(\"agenceLabels:\", this.agenceLabels);\r\n          console.log(\"agenceTotals:\", this.agenceTotals);\r\n\r\n          this.percentage_cc_with_errors = result.percentage_cc_with_errors;\r\n          this.percentage_agences_with_errors = result.percentage_agences_with_errors;\r\n          this.ccPodium = Array.from(\r\n              new Map(\r\n                  result.cc_error_counts\r\n                      .filter(cc => cc.Pourcentage > 5) // Filtrer les CC avec un pourcentage > 5%\r\n                      .sort((a, b) => b['Total Erreurs'] - a['Total Erreurs']) // Trier par 'Total Erreurs'\r\n                      .map(cc => [cc.CC, cc]) // Utiliser le champ 'CC' comme clé pour garantir l'unicité\r\n              ).values()\r\n          );\r\n\r\n          const labels = [...this.agenceLabels];\r\n          const totals = [...this.agenceTotals];\r\n\r\n          console.log(\"Labels normaux :\", labels);\r\n          console.log(\"Données normales :\", totals);\r\n\r\n          if (!result.agence_error_counts || result.agence_error_counts.length === 0) {\r\n            console.error(\"Aucune donnée trouvée pour les erreurs par agence.\");\r\n            return;\r\n          }\r\n          this.createChart();\r\n        },\r\n      \r\n    async downloadInvalidFile() {\r\n        try {\r\n            const response = await fetch('http://localhost:8000/download-invalid-file/', {\r\n                method: 'GET',\r\n            });\r\n\r\n            if (response.ok) {\r\n                const blob = await response.blob();\r\n                const downloadUrl = window.URL.createObjectURL(blob);\r\n                const a = document.createElement('a');\r\n                a.href = downloadUrl;\r\n                a.download = \"invalid_data.xlsx\"; // Nom du fichier\r\n                document.body.appendChild(a);\r\n                a.click();\r\n                a.remove();\r\n            } else {\r\n                const result = await response.json();\r\n                alert(result.message || \"Erreur lors du téléchargement du fichier.\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Erreur lors du téléchargement :\", error);\r\n            alert(\"Une erreur est survenue lors du téléchargement du fichier.\");\r\n        }\r\n    },\r\n\r\n      exportTableToExcel() {\r\n        // Transformez les données pour sélectionner ou renommer les colonnes spécifiques\r\n        const data = this.ccErrorCounts.map((item, index) => ({\r\n          ID: index + 1,\r\n          CC: item.CC,\r\n          \"Tél\": item['Format du Numéro de Téléphone Invalide'],\r\n          \"Email\": item['Domaine ou Format de l\\'Email Invalide'],\r\n          \"Sexe/Genre\": item['Sexe ou Genre Incorrect ou Manquant pour Entreprise'],\r\n          Représentant: item['Représentant Légal Manquant'],\r\n          Agence: item.Agence,\r\n          \"Total Erreurs Agence\": item['Total Erreurs Agence'],\r\n          \"Pourcentage par Agence\": (item['Pourcentage Par Agence']).toFixed(2) + \" %\", // Assurez-vous que ce nom est unique\r\n        }));\r\n\r\n        // Crée une nouvelle feuille Excel avec des colonnes bien définies\r\n        const worksheet = XLSX.utils.json_to_sheet(data);\r\n\r\n        // Ajoute des titres de colonnes (facultatif)\r\n        const columns = [\r\n          \"ID\",\r\n          \"CC\",\r\n          \"Tél\",\r\n          \"Email\",\r\n          \"Sexe/Genre\",\r\n          \"Représentant\",\r\n          \"Agence\",\r\n          \"Total Erreurs Agence\",\r\n          \"Pourcentage par Agence\",\r\n        ];\r\n        XLSX.utils.sheet_add_aoa(worksheet, [columns], { origin: \"A1\" });\r\n\r\n        // Crée un classeur Excel\r\n        const workbook = XLSX.utils.book_new();\r\n        XLSX.utils.book_append_sheet(workbook, worksheet, \"Détails des Erreurs\");\r\n\r\n        // Génère et télécharge le fichier Excel\r\n        const fileName = \"erreurs_cc.xlsx\";\r\n        XLSX.writeFile(workbook, fileName);\r\n      },\r\n\r\n      exportAgenceTableToExcel() {\r\n      // Préparation des données du tableau\r\n      const data = this.agenceErrorCounts.map((item, index) => ({\r\n        ID: index + 1,\r\n        Agence: item.Agence,\r\n        \"Tél\": item['Format du Numéro de Téléphone Invalide'],\r\n        \"Email\": item['Domaine ou Format de l\\'Email Invalide'],\r\n        \"Sexe/Genre\": item['Sexe ou Genre Incorrect ou Manquant pour Entreprise'],\r\n        Représentant: item['Représentant Légal Manquant'],\r\n        \"Nombre de CC\": item['Nombre de CC'],\r\n        \"Total Erreurs\": item['Total Erreurs'],\r\n        // Formate le Pourcentage en pourcentage avec deux décimales\r\n        Pourcentage: (item.Pourcentage).toFixed(2) + \" %\",\r\n      }));\r\n\r\n      // Crée une nouvelle feuille Excel avec les données\r\n      const worksheet = XLSX.utils.json_to_sheet(data);\r\n\r\n      // Ajoute des titres de colonnes (facultatif)\r\n      const columns = [\r\n        \"ID\",\r\n        \"Agence\",\r\n        \"Tél\",\r\n        \"Email\",\r\n        \"Sexe/Genre\",\r\n        \"Représentant\",\r\n        \"Nombre de CC\",\r\n        \"Total Erreurs\",\r\n        \"Pourcentage\",\r\n      ];\r\n      XLSX.utils.sheet_add_aoa(worksheet, [columns], { origin: \"A1\" });\r\n\r\n      // Crée un classeur Excel\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, \"Erreurs par Agence\");\r\n\r\n      // Génère et télécharge le fichier Excel\r\n      const fileName = \"erreurs_agence.xlsx\";\r\n      XLSX.writeFile(workbook, fileName);\r\n    },\r\n\r\n    calculateTotal(column, type) {\r\n      // Vérification du type pour calculer uniquement pour le tableau choisi\r\n      if (type === 'cc') {\r\n        return this.ccErrorCounts.reduce((sum, ccError) => {\r\n          return sum + (ccError[column] || 0);\r\n        }, 0);\r\n      } else if (type === 'agence') {\r\n        return this.agenceErrorCounts.reduce((sum, agenceError) => {\r\n          return sum + (agenceError[column] || 0);\r\n        }, 0);\r\n      }\r\n      return 0; // Retourne 0 si le type est invalide\r\n    },\r\n\r\n    calculatePercentageTotal(column, type, totalErrors) {\r\n      // Vérifie si le totalErrors est valide pour éviter une division par zéro\r\n      if (!totalErrors || totalErrors <= 0) {\r\n        return 0; // Retourne 0 si le total des erreurs est invalide\r\n      }\r\n\r\n      let totalColumnErrors = 0;\r\n\r\n      // Calcul des erreurs en fonction du type\r\n      if (type === 'cc') {\r\n        totalColumnErrors = this.ccErrorCounts.reduce((sum, ccError) => {\r\n          return sum + (ccError[column] || 0);\r\n        }, 0);\r\n      } else if (type === 'agence') {\r\n        totalColumnErrors = this.agenceErrorCounts.reduce((sum, agenceError) => {\r\n          return sum + (agenceError[column] || 0);\r\n        }, 0);\r\n      }\r\n\r\n      // Calcul du pourcentage par rapport au total des erreurs\r\n      return ((totalColumnErrors / totalErrors) * 100).toFixed(2); // Pourcentage avec 2 décimales\r\n    }\r\n\r\n},\r\n\r\n  mounted() {\r\n    document.getElementById('upload-button').addEventListener('click', this.uploadFile);\r\n    console.log(\"agenceErrorCounts:\", this.agenceErrorCounts);\r\n\r\n    this.$nextTick(() => {\r\n      this.createChart(); // Create chart after data is set\r\n    });\r\n    },\r\n  \r\n};\r\n\r\n</script>\r\n\r\n<style scoped>\r\n/* Ajout du style directement dans le HTML pour le texte value */\r\n.custom-value-card .value {\r\n  color: white !important;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]}]}